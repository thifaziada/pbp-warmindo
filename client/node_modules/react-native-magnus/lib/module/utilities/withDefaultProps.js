function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

import React from 'react';
import { ThemeContext } from '../theme';
export function withDefaultProps(WrappedComponent, componentName, defaultProps) {
  var _class;

  return _class = class extends React.PureComponent {
    constructor() {
      super(...arguments);

      _defineProperty(this, "context", void 0);
    }

    render() {
      var _theme$components, _theme$components2, _theme$components2$co, _theme$components2$co2;

      const theme = this.context.theme;

      if (!componentName) {
        return /*#__PURE__*/React.createElement(WrappedComponent, _extends({}, this.props, defaultProps));
      }

      let propsFromTheme = { ...(((_theme$components = theme.components) === null || _theme$components === void 0 ? void 0 : _theme$components[componentName]) ?? {}),
        ...(this.props.variant && ( //@ts-ignore
        ((_theme$components2 = theme.components) === null || _theme$components2 === void 0 ? void 0 : (_theme$components2$co = _theme$components2[componentName]) === null || _theme$components2$co === void 0 ? void 0 : (_theme$components2$co2 = _theme$components2$co.variants) === null || _theme$components2$co2 === void 0 ? void 0 : _theme$components2$co2[this.props.variant]) ?? {}))
      };
      delete propsFromTheme.variants;
      const mergedProps = { ...defaultProps,
        ...propsFromTheme,
        ...this.props
      };
      return /*#__PURE__*/React.createElement(WrappedComponent, mergedProps);
    }

  }, _defineProperty(_class, "contextType", ThemeContext), _class;
}
//# sourceMappingURL=withDefaultProps.js.map