{"version":3,"names":["React","Component","StyleSheet","KeyboardAvoidingView","Platform","Toast","Snackbar","constructor","props","message","config","id","Math","random","toString","onClose","hide","requestAnimationFrame","setState","toasts","state","filter","t","map","toast","render","placement","offset","style","bottom","undefined","top","justifyContent","flexDirection","OS","styles","container","rest","create","position","width"],"sources":["snackbar.component.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport {\n  StyleSheet,\n  KeyboardAvoidingView,\n  Platform,\n  ViewStyle,\n} from 'react-native';\n\nimport { Toast } from './toast.component';\nimport {\n  SnackbarState,\n  SnackbarProps,\n  SnackbarContainerProps,\n} from './snackbar.type';\nclass Snackbar extends Component<\n  SnackbarProps & SnackbarContainerProps,\n  SnackbarState\n> {\n  constructor(props: SnackbarProps & SnackbarContainerProps) {\n    super(props);\n\n    this.state = {\n      toasts: [],\n    };\n  }\n\n  static defaultProps = {\n    placement: 'bottom',\n    offset: 0,\n  };\n\n  /**\n   * adds new toast in the snackbar\n   *\n   * @param message\n   * @param config\n   */\n  show = (message: string | JSX.Element, config?: SnackbarProps) => {\n    let id = config?.id || Math.random().toString();\n    const onClose = () => this.hide(id);\n\n    requestAnimationFrame(() => {\n      this.setState({\n        toasts: this.state.toasts.filter((t) => t.id !== id),\n      });\n      this.setState({\n        toasts: [\n          {\n            id,\n            message,\n            onClose,\n            ...config,\n          },\n          ...this.state.toasts,\n        ],\n      });\n    });\n\n    return id;\n  };\n\n  /**\n   * updates a existing toast\n   *\n   * @param id\n   * @param message\n   * @param config\n   */\n  update = (\n    id: string,\n    message: string | JSX.Element,\n    config?: SnackbarProps\n  ) => {\n    this.setState({\n      toasts: this.state.toasts.map((toast) =>\n        toast.id === id ? { ...toast, message, ...config } : toast\n      ),\n    });\n  };\n\n  /**\n   * removes a toast from the snackbar\n   *\n   * @param id\n   */\n  hide = (id: string) => {\n    this.setState({\n      toasts: this.state.toasts.filter((t) => t.id !== id),\n    });\n  };\n\n  render() {\n    const { toasts } = this.state;\n    const { placement, offset } = this.props;\n\n    let style: ViewStyle = {\n      bottom: placement === 'bottom' ? offset : undefined,\n      top: placement === 'top' ? offset : undefined,\n      justifyContent: placement === 'bottom' ? 'flex-end' : 'flex-start',\n      flexDirection: placement === 'bottom' ? 'column' : 'column-reverse',\n    };\n\n    return (\n      <KeyboardAvoidingView\n        behavior={Platform.OS === 'ios' ? 'position' : undefined}\n        style={[styles.container, style]}\n        pointerEvents=\"box-none\"\n      >\n        {toasts.map((toast) => {\n          const { message, id, ...rest } = toast;\n\n          return (\n            <Toast key={id} {...this.props} {...rest}>\n              {message}\n            </Toast>\n          );\n        })}\n      </KeyboardAvoidingView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    width: '100%',\n  },\n});\n\nexport { Snackbar };\n"],"mappings":"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"}