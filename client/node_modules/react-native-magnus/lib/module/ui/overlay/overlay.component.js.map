{"version":3,"names":["React","View","RNView","Modal","RNModal","TouchableWithoutFeedback","RNTouchableWithoutFeedback","useState","useEffect","useImperativeHandle","getStyle","useTheme","isFunction","useDefaultProps","Overlay","forwardRef","incomingProps","ref","props","bg","w","p","rounded","overlayOpacity","overlayColor","animationType","transparent","onBackdropPress","m","mt","mr","mb","ml","ms","pr","pt","pb","pl","h","alignItems","justifyContent","roundedTop","roundedRight","roundedBottom","roundedLeft","visible","isVisible","children","onRequestClose","rest","theme","computedStyle","setVisible","open","close","modal","container"],"sources":["overlay.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  View as RNView,\n  Modal as RNModal,\n  TouchableWithoutFeedback as RNTouchableWithoutFeedback,\n} from 'react-native';\nimport { useState, useEffect, useImperativeHandle } from 'react';\n\nimport { getStyle } from './overlay.style';\nimport { useTheme } from '../../theme';\nimport { isFunction } from '../../utilities';\nimport { OverlayProps, OverlayRef } from './overlay.type';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\n\nconst Overlay = React.forwardRef<\n  OverlayRef,\n  React.PropsWithChildren<OverlayProps>\n>((incomingProps, ref) => {\n  const props = useDefaultProps('Overlay', incomingProps, {\n    bg: 'white',\n    w: '80%',\n    p: 'lg',\n    rounded: 'md',\n    overlayOpacity: 0.6,\n    overlayColor: 'gray900',\n    animationType: 'fade',\n    transparent: true,\n    onBackdropPress: () => {},\n  });\n\n  const {\n    m,\n    mt,\n    mr,\n    mb,\n    ml,\n    ms,\n    p,\n    pr,\n    pt,\n    pb,\n    pl,\n    bg,\n    w,\n    h,\n    alignItems,\n    justifyContent,\n    rounded,\n    roundedTop,\n    roundedRight,\n    roundedBottom,\n    roundedLeft,\n    visible: isVisible,\n    children,\n    overlayColor,\n    overlayOpacity,\n    onRequestClose,\n    onBackdropPress,\n    ...rest\n  } = props;\n  const { theme } = useTheme();\n  const computedStyle = getStyle(theme, props);\n  const [visible, setVisible] = useState(isVisible ?? false);\n\n  useEffect(() => {\n    if ('visible' in props) {\n      setVisible(isVisible ?? false);\n    }\n  }, [isVisible, props]);\n\n  /**\n   * exposing functions to parent\n   */\n  useImperativeHandle(ref, () => ({\n    open() {\n      if (visible === false) {\n        setVisible(true);\n      }\n    },\n    close() {\n      if (visible === true) {\n        setVisible(false);\n      }\n    },\n  }));\n\n  return (\n    <RNModal\n      visible={visible}\n      onRequestClose={\n        isFunction(onRequestClose) ? onRequestClose : () => setVisible(false)\n      }\n      {...rest}\n    >\n      <RNTouchableWithoutFeedback onPress={onBackdropPress}>\n        <RNView style={computedStyle.modal}>\n          <RNTouchableWithoutFeedback>\n            <RNView style={computedStyle.container}>{children}</RNView>\n          </RNTouchableWithoutFeedback>\n        </RNView>\n      </RNTouchableWithoutFeedback>\n    </RNModal>\n  );\n});\n\nexport { Overlay };\n"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SACEC,IAAI,IAAIC,MADV,EAEEC,KAAK,IAAIC,OAFX,EAGEC,wBAAwB,IAAIC,0BAH9B,QAIO,cAJP;AAKA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,mBAA9B,QAAyD,OAAzD;AAEA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AAEA,SAASC,eAAT,QAAgC,iCAAhC;AAEA,MAAMC,OAAO,gBAAGd,KAAK,CAACe,UAAN,CAGd,CAACC,aAAD,EAAgBC,GAAhB,KAAwB;EACxB,MAAMC,KAAK,GAAGL,eAAe,CAAC,SAAD,EAAYG,aAAZ,EAA2B;IACtDG,EAAE,EAAE,OADkD;IAEtDC,CAAC,EAAE,KAFmD;IAGtDC,CAAC,EAAE,IAHmD;IAItDC,OAAO,EAAE,IAJ6C;IAKtDC,cAAc,EAAE,GALsC;IAMtDC,YAAY,EAAE,SANwC;IAOtDC,aAAa,EAAE,MAPuC;IAQtDC,WAAW,EAAE,IARyC;IAStDC,eAAe,EAAE,MAAM,CAAE;EAT6B,CAA3B,CAA7B;EAYA,MAAM;IACJC,CADI;IAEJC,EAFI;IAGJC,EAHI;IAIJC,EAJI;IAKJC,EALI;IAMJC,EANI;IAOJZ,CAPI;IAQJa,EARI;IASJC,EATI;IAUJC,EAVI;IAWJC,EAXI;IAYJlB,EAZI;IAaJC,CAbI;IAcJkB,CAdI;IAeJC,UAfI;IAgBJC,cAhBI;IAiBJlB,OAjBI;IAkBJmB,UAlBI;IAmBJC,YAnBI;IAoBJC,aApBI;IAqBJC,WArBI;IAsBJC,OAAO,EAAEC,SAtBL;IAuBJC,QAvBI;IAwBJvB,YAxBI;IAyBJD,cAzBI;IA0BJyB,cA1BI;IA2BJrB,eA3BI;IA4BJ,GAAGsB;EA5BC,IA6BF/B,KA7BJ;EA8BA,MAAM;IAAEgC;EAAF,IAAYvC,QAAQ,EAA1B;EACA,MAAMwC,aAAa,GAAGzC,QAAQ,CAACwC,KAAD,EAAQhC,KAAR,CAA9B;EACA,MAAM,CAAC2B,OAAD,EAAUO,UAAV,IAAwB7C,QAAQ,CAACuC,SAAS,IAAI,KAAd,CAAtC;EAEAtC,SAAS,CAAC,MAAM;IACd,IAAI,aAAaU,KAAjB,EAAwB;MACtBkC,UAAU,CAACN,SAAS,IAAI,KAAd,CAAV;IACD;EACF,CAJQ,EAIN,CAACA,SAAD,EAAY5B,KAAZ,CAJM,CAAT;EAMA;AACF;AACA;;EACET,mBAAmB,CAACQ,GAAD,EAAM,OAAO;IAC9BoC,IAAI,GAAG;MACL,IAAIR,OAAO,KAAK,KAAhB,EAAuB;QACrBO,UAAU,CAAC,IAAD,CAAV;MACD;IACF,CAL6B;;IAM9BE,KAAK,GAAG;MACN,IAAIT,OAAO,KAAK,IAAhB,EAAsB;QACpBO,UAAU,CAAC,KAAD,CAAV;MACD;IACF;;EAV6B,CAAP,CAAN,CAAnB;EAaA,oBACE,oBAAC,OAAD;IACE,OAAO,EAAEP,OADX;IAEE,cAAc,EACZjC,UAAU,CAACoC,cAAD,CAAV,GAA6BA,cAA7B,GAA8C,MAAMI,UAAU,CAAC,KAAD;EAHlE,GAKMH,IALN,gBAOE,oBAAC,0BAAD;IAA4B,OAAO,EAAEtB;EAArC,gBACE,oBAAC,MAAD;IAAQ,KAAK,EAAEwB,aAAa,CAACI;EAA7B,gBACE,oBAAC,0BAAD,qBACE,oBAAC,MAAD;IAAQ,KAAK,EAAEJ,aAAa,CAACK;EAA7B,GAAyCT,QAAzC,CADF,CADF,CADF,CAPF,CADF;AAiBD,CAzFe,CAAhB;AA2FA,SAASjC,OAAT"}