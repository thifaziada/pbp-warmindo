{"version":3,"names":["React","useEffect","useState","isFunction","useDefaultProps","Div","CollapseBody","CollapseHeader","CollapseGroup","Collapse","incomingProps","props","bg","flexDir","flexWrap","rounded","overflow","shadow","mt","shadowColor","position","bgMode","pointerEvents","row","borderStyle","defaultActive","children","active","onChange","id","rest","isActive","setIsActive","header","body","changeState","newState","Children","forEach","child","type","Error","cloneElement","onPress","expanded","Body","Header","Group"],"sources":["collapse.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { isFunction } from '../../utilities';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\n\nimport { Div } from '../div/div.component';\nimport { CollapseBody } from './collapse.body.component';\nimport { CollapseHeader } from './collapse.header.component';\nimport { CollapseProps, CompoundedCollapse } from './collapse.type';\nimport { CollapseGroup } from './group.component';\n\nconst Collapse: CompoundedCollapse<CollapseProps> = (incomingProps) => {\n  const props = useDefaultProps('Collapse', incomingProps, {\n    bg: 'white',\n    flexDir: 'column',\n    flexWrap: 'nowrap',\n    rounded: 'md',\n    overflow: 'hidden',\n    shadow: 'none',\n    mt: 'md',\n    shadowColor: 'gray900',\n    position: 'relative',\n    bgMode: 'cover',\n    pointerEvents: 'auto',\n    row: false,\n    borderStyle: 'solid',\n    defaultActive: false,\n  });\n\n  const { children, defaultActive, active, onChange, id, ...rest } = props;\n  const [isActive, setIsActive] = useState(active ?? defaultActive);\n  let header = null;\n  let body = null;\n\n  useEffect(() => {\n    if ('active' in props) {\n      setIsActive(props.active ?? false);\n    }\n  }, [props]);\n\n  const changeState = (newState: boolean) => {\n    setIsActive(newState);\n\n    if (isFunction(onChange)) {\n      onChange(id);\n    }\n  };\n\n  React.Children.forEach(children, (child) => {\n    // @ts-ignore\n    if (child.type === CollapseHeader) {\n      header = child;\n      // @ts-ignore\n    } else if (child.type === CollapseBody) {\n      body = child;\n    }\n  });\n\n  if (header === null) {\n    throw Error(\n      \"header wasn't found to be rendered. Please make sure you have wrapped an Collapse.Header in the Collapse Component.\"\n    );\n  }\n\n  header = React.cloneElement(header, {\n    active: isActive,\n\n    onPress: () => {\n      changeState(!isActive);\n    },\n  });\n\n  return (\n    <Div {...rest}>\n      {header}\n      {!!body && React.cloneElement(body, { expanded: !isActive })}\n    </Div>\n  );\n};\n\n// Collapse.defaultProps = {\n//   bg: 'white',\n//   flexDir: 'column',\n//   flexWrap: 'nowrap',\n//   rounded: 'md',\n//   overflow: 'hidden',\n//   shadow: 'none',\n//   mt: 'md',\n//   shadowColor: 'gray900',\n//   position: 'relative',\n//   bgMode: 'cover',\n//   pointerEvents: 'auto',\n//   row: false,\n//   borderStyle: 'solid',\n//   defaultActive: false,\n// };\n\nCollapse.Body = CollapseBody;\nCollapse.Header = CollapseHeader;\nCollapse.Group = CollapseGroup;\n\nexport { Collapse };\n"],"mappings":"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"}