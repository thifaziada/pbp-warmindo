{"version":3,"names":["React","Modal","SafeAreaView","Platform","View","useState","useImperativeHandle","useEffect","Div","getStyle","Text","DropdownOption","useTheme","useDefaultProps","getThemeColor","Dropdown","forwardRef","incomingProps","ref","props","bg","rounded","showSwipeIndicator","OS","backdropColor","backdropOpacity","flexWrap","backdropTransitionOutTiming","overflow","py","m","mt","mr","mb","ml","ms","p","pr","pt","pb","pl","roundedTop","roundedRight","roundedBottom","roundedLeft","borderColor","borderBottomColor","borderLeftColor","borderTopColor","borderRightColor","borderWidth","style","borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopWidth","borderEndWidth","title","children","flexDir","isVisible","onBackdropPress","swipeDirection","onSwipeComplete","rest","theme","computedStyle","visible","setVisible","open","close","renderTitle","renderIndicator","indicator","params","colors","margin","justifyContent","wrapper","container","options","Children","map","child","cloneElement","onSelect","Option"],"sources":["dropdown.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport Modal from 'react-native-modal';\nimport { SafeAreaView, Platform, View } from 'react-native';\nimport { useState, useImperativeHandle, useEffect } from 'react';\n\nimport { Div } from '../div/div.component';\nimport { getStyle } from './dropdown.style';\nimport { Text } from '../text/text.component';\nimport { DropdownOption } from './dropdown.option.component';\nimport { useTheme } from '../../theme';\nimport {\n  DropdownProps,\n  DropdownRef,\n  CompoundedDropdown,\n} from './dropdown.type';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\nimport { getThemeColor } from '../../theme/theme.service';\n\nconst Dropdown = React.forwardRef<DropdownRef, DropdownProps>(\n  (incomingProps, ref) => {\n    const props = useDefaultProps('Dropdown', incomingProps, {\n      bg: 'white',\n      rounded: 'none',\n      showSwipeIndicator: Platform.OS === 'web' ? false : true,\n      backdropColor: 'gray900',\n      backdropOpacity: 0.5,\n      flexWrap: 'nowrap',\n      backdropTransitionOutTiming: 0,\n      overflow: 'hidden',\n      py: 'xl',\n    });\n\n    const {\n      bg,\n      m,\n      mt,\n      mr,\n      mb,\n      ml,\n      ms,\n      p,\n      pr,\n      pt,\n      pb,\n      pl,\n      rounded,\n      roundedTop,\n      roundedRight,\n      roundedBottom,\n      roundedLeft,\n      borderColor,\n      borderBottomColor,\n      borderLeftColor,\n      borderTopColor,\n      borderRightColor,\n      borderWidth,\n      style,\n      borderLeftWidth,\n      borderRightWidth,\n      borderBottomWidth,\n      borderTopWidth,\n      borderEndWidth,\n      title,\n      showSwipeIndicator,\n      children,\n      backdropColor,\n      flexDir,\n      flexWrap,\n      isVisible,\n      onBackdropPress,\n      swipeDirection,\n      onSwipeComplete,\n      ...rest\n    } = props;\n    const { theme } = useTheme();\n    const computedStyle = getStyle(theme, props as DropdownProps);\n    const [visible, setVisible] = useState(props.isVisible ?? false);\n\n    useEffect(() => {\n      if ('isVisible' in props) {\n        setVisible(props.isVisible ?? false);\n      }\n    }, [props, visible]);\n\n    /**\n     * exposing functions through ref\n     */\n    useImperativeHandle(ref, () => ({\n      open() {\n        setVisible(true);\n      },\n      close() {\n        setVisible(false);\n      },\n    }));\n\n    /**\n     * render title\n     */\n    const renderTitle = () => {\n      if (title) {\n        return typeof title === 'string' ? (\n          <Text fontSize=\"md\" color=\"gray700\">\n            {title}\n          </Text>\n        ) : (\n          title\n        );\n      }\n\n      return false;\n    };\n\n    /**\n     * render scroll indicator\n     */\n    const renderIndicator = () => {\n      return (\n        showSwipeIndicator && (\n          <Div\n            h={7}\n            rounded=\"xl\"\n            w={40}\n            bg=\"gray200\"\n            style={computedStyle.indicator}\n          />\n        )\n      );\n    };\n\n    return (\n      <Modal\n        isVisible={visible}\n        onSwipeComplete={(params) => {\n          setVisible(false);\n          onSwipeComplete && onSwipeComplete(params);\n        }}\n        backdropColor={getThemeColor(theme.colors, backdropColor)}\n        onBackdropPress={\n          'onBackdropPress' in props ? onBackdropPress : () => setVisible(false)\n        }\n        style={{\n          margin: 0,\n          justifyContent: Platform.OS === 'web' ? 'center' : 'flex-end',\n        }}\n        swipeDirection=\"down\"\n        {...rest}\n      >\n        <View style={computedStyle.wrapper}>\n          {renderIndicator()}\n          <SafeAreaView>\n            <View style={computedStyle.container}>\n              {renderTitle()}\n              <View style={computedStyle.options}>\n                {React.Children.map(children, (child: React.ReactElement) => {\n                  return React.cloneElement(child, {\n                    onSelect: () => {\n                      setVisible(false);\n                    },\n                  });\n                })}\n              </View>\n            </View>\n          </SafeAreaView>\n        </View>\n      </Modal>\n    );\n  }\n) as CompoundedDropdown;\n\nDropdown.Option = DropdownOption;\n\n// Dropdown.defaultProps = {\n//   bg: 'white',\n//   rounded: 'none',\n//   showSwipeIndicator: Platform.OS === 'web' ? false : true,\n//   backdropColor: 'gray900',\n//   backdropOpacity: 0.5,\n//   flexWrap: 'nowrap',\n//   backdropTransitionOutTiming: 0,\n//   overflow: 'hidden',\n// };\n\nexport { Dropdown };\n"],"mappings":"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"}