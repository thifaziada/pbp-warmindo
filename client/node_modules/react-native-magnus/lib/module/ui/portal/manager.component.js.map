{"version":3,"names":["React","View","StyleSheet","Manager","forwardRef","_","ref","portals","setPortals","useState","useImperativeHandle","mount","key","children","prev","update","map","item","unmount","filter","index","absoluteFill"],"sources":["manager.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\nexport interface IManagerHandles {\n  mount(key: string, children: React.ReactNode): void;\n  update(key?: string, children?: React.ReactNode): void;\n  unmount(key?: string): void;\n}\n\nexport const Manager = React.forwardRef((_, ref): any => {\n  const [portals, setPortals] = React.useState<\n    { key: string; children: React.ReactNode }[]\n  >([]);\n\n  React.useImperativeHandle(\n    ref,\n    (): IManagerHandles => ({\n      mount(key: string, children: React.ReactNode): void {\n        setPortals((prev) => [...prev, { key, children }]);\n      },\n\n      update(key: string, children: React.ReactNode): void {\n        setPortals((prev) =>\n          prev.map((item) => {\n            if (item.key === key) {\n              return { ...item, children };\n            }\n\n            return item;\n          })\n        );\n      },\n\n      unmount(key: string): void {\n        setPortals((prev) => prev.filter((item) => item.key !== key));\n      },\n    })\n  );\n\n  return portals.map(({ key, children }, index: number) => (\n    <View\n      key={`react-native-magnus-portal-${key}-${index}`}\n      collapsable={false}\n      pointerEvents=\"box-none\"\n      style={StyleSheet.absoluteFill}\n    >\n      {children}\n    </View>\n  ));\n});\n"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,cAAjC;AAQA,OAAO,MAAMC,OAAO,gBAAGH,KAAK,CAACI,UAAN,CAAiB,CAACC,CAAD,EAAIC,GAAJ,KAAiB;EACvD,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,KAAK,CAACS,QAAN,CAE5B,EAF4B,CAA9B;EAIAT,KAAK,CAACU,mBAAN,CACEJ,GADF,EAEE,OAAwB;IACtBK,KAAK,CAACC,GAAD,EAAcC,QAAd,EAA+C;MAClDL,UAAU,CAAEM,IAAD,IAAU,CAAC,GAAGA,IAAJ,EAAU;QAAEF,GAAF;QAAOC;MAAP,CAAV,CAAX,CAAV;IACD,CAHqB;;IAKtBE,MAAM,CAACH,GAAD,EAAcC,QAAd,EAA+C;MACnDL,UAAU,CAAEM,IAAD,IACTA,IAAI,CAACE,GAAL,CAAUC,IAAD,IAAU;QACjB,IAAIA,IAAI,CAACL,GAAL,KAAaA,GAAjB,EAAsB;UACpB,OAAO,EAAE,GAAGK,IAAL;YAAWJ;UAAX,CAAP;QACD;;QAED,OAAOI,IAAP;MACD,CAND,CADQ,CAAV;IASD,CAfqB;;IAiBtBC,OAAO,CAACN,GAAD,EAAoB;MACzBJ,UAAU,CAAEM,IAAD,IAAUA,IAAI,CAACK,MAAL,CAAaF,IAAD,IAAUA,IAAI,CAACL,GAAL,KAAaA,GAAnC,CAAX,CAAV;IACD;;EAnBqB,CAAxB,CAFF;EAyBA,OAAOL,OAAO,CAACS,GAAR,CAAY,OAAoBI,KAApB;IAAA,IAAC;MAAER,GAAF;MAAOC;IAAP,CAAD;IAAA,oBACjB,oBAAC,IAAD;MACE,GAAG,EAAG,8BAA6BD,GAAI,IAAGQ,KAAM,EADlD;MAEE,WAAW,EAAE,KAFf;MAGE,aAAa,EAAC,UAHhB;MAIE,KAAK,EAAElB,UAAU,CAACmB;IAJpB,GAMGR,QANH,CADiB;EAAA,CAAZ,CAAP;AAUD,CAxCsB,CAAhB"}