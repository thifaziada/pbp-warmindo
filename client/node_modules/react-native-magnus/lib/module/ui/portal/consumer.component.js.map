{"version":3,"names":["React","Consumer","children","manager","key","useRef","undefined","checkManager","Error","handleInit","current","mount","useEffect","update","unmount"],"sources":["consumer.component.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { IProvider } from './host.component';\n\ninterface IConsumerProps {\n  children: React.ReactNode;\n  manager: IProvider | null;\n}\n\nexport const Consumer = ({ children, manager }: IConsumerProps): null => {\n  const key = React.useRef<string | undefined>(undefined);\n\n  const checkManager = (): void => {\n    if (!manager) {\n      throw new Error('No portal manager defined');\n    }\n  };\n\n  const handleInit = (): void => {\n    checkManager();\n    key.current = manager?.mount(children);\n  };\n\n  React.useEffect(() => {\n    checkManager();\n    manager?.update(key.current, children);\n  }, [children, manager]);\n\n  React.useEffect(() => {\n    handleInit();\n\n    return (): void => {\n      checkManager();\n      manager?.unmount(key.current);\n    };\n  }, []);\n\n  return null;\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AASA,OAAO,MAAMC,QAAQ,GAAG,QAAiD;EAAA,IAAhD;IAAEC,QAAF;IAAYC;EAAZ,CAAgD;EACvE,MAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAN,CAAiCC,SAAjC,CAAZ;;EAEA,MAAMC,YAAY,GAAG,MAAY;IAC/B,IAAI,CAACJ,OAAL,EAAc;MACZ,MAAM,IAAIK,KAAJ,CAAU,2BAAV,CAAN;IACD;EACF,CAJD;;EAMA,MAAMC,UAAU,GAAG,MAAY;IAC7BF,YAAY;IACZH,GAAG,CAACM,OAAJ,GAAcP,OAAd,aAAcA,OAAd,uBAAcA,OAAO,CAAEQ,KAAT,CAAeT,QAAf,CAAd;EACD,CAHD;;EAKAF,KAAK,CAACY,SAAN,CAAgB,MAAM;IACpBL,YAAY;IACZJ,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEU,MAAT,CAAgBT,GAAG,CAACM,OAApB,EAA6BR,QAA7B;EACD,CAHD,EAGG,CAACA,QAAD,EAAWC,OAAX,CAHH;EAKAH,KAAK,CAACY,SAAN,CAAgB,MAAM;IACpBH,UAAU;IAEV,OAAO,MAAY;MACjBF,YAAY;MACZJ,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEW,OAAT,CAAiBV,GAAG,CAACM,OAArB;IACD,CAHD;EAID,CAPD,EAOG,EAPH;EASA,OAAO,IAAP;AACD,CA7BM"}