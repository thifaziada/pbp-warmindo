{"version":3,"names":["Collapse","incomingProps","props","useDefaultProps","bg","flexDir","flexWrap","rounded","overflow","shadow","mt","shadowColor","position","bgMode","pointerEvents","row","borderStyle","defaultActive","children","active","onChange","id","rest","isActive","setIsActive","useState","header","body","useEffect","changeState","newState","isFunction","React","Children","forEach","child","type","CollapseHeader","CollapseBody","Error","cloneElement","onPress","expanded","Body","Header","Group","CollapseGroup"],"sources":["collapse.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { isFunction } from '../../utilities';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\n\nimport { Div } from '../div/div.component';\nimport { CollapseBody } from './collapse.body.component';\nimport { CollapseHeader } from './collapse.header.component';\nimport { CollapseProps, CompoundedCollapse } from './collapse.type';\nimport { CollapseGroup } from './group.component';\n\nconst Collapse: CompoundedCollapse<CollapseProps> = (incomingProps) => {\n  const props = useDefaultProps('Collapse', incomingProps, {\n    bg: 'white',\n    flexDir: 'column',\n    flexWrap: 'nowrap',\n    rounded: 'md',\n    overflow: 'hidden',\n    shadow: 'none',\n    mt: 'md',\n    shadowColor: 'gray900',\n    position: 'relative',\n    bgMode: 'cover',\n    pointerEvents: 'auto',\n    row: false,\n    borderStyle: 'solid',\n    defaultActive: false,\n  });\n\n  const { children, defaultActive, active, onChange, id, ...rest } = props;\n  const [isActive, setIsActive] = useState(active ?? defaultActive);\n  let header = null;\n  let body = null;\n\n  useEffect(() => {\n    if ('active' in props) {\n      setIsActive(props.active ?? false);\n    }\n  }, [props]);\n\n  const changeState = (newState: boolean) => {\n    setIsActive(newState);\n\n    if (isFunction(onChange)) {\n      onChange(id);\n    }\n  };\n\n  React.Children.forEach(children, (child) => {\n    // @ts-ignore\n    if (child.type === CollapseHeader) {\n      header = child;\n      // @ts-ignore\n    } else if (child.type === CollapseBody) {\n      body = child;\n    }\n  });\n\n  if (header === null) {\n    throw Error(\n      \"header wasn't found to be rendered. Please make sure you have wrapped an Collapse.Header in the Collapse Component.\"\n    );\n  }\n\n  header = React.cloneElement(header, {\n    active: isActive,\n\n    onPress: () => {\n      changeState(!isActive);\n    },\n  });\n\n  return (\n    <Div {...rest}>\n      {header}\n      {!!body && React.cloneElement(body, { expanded: !isActive })}\n    </Div>\n  );\n};\n\n// Collapse.defaultProps = {\n//   bg: 'white',\n//   flexDir: 'column',\n//   flexWrap: 'nowrap',\n//   rounded: 'md',\n//   overflow: 'hidden',\n//   shadow: 'none',\n//   mt: 'md',\n//   shadowColor: 'gray900',\n//   position: 'relative',\n//   bgMode: 'cover',\n//   pointerEvents: 'auto',\n//   row: false,\n//   borderStyle: 'solid',\n//   defaultActive: false,\n// };\n\nCollapse.Body = CollapseBody;\nCollapse.Header = CollapseHeader;\nCollapse.Group = CollapseGroup;\n\nexport { Collapse };\n"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;;;;;AAEA,MAAMA,QAA2C,GAAIC,aAAD,IAAmB;EACrE,MAAMC,KAAK,GAAG,IAAAC,gCAAA,EAAgB,UAAhB,EAA4BF,aAA5B,EAA2C;IACvDG,EAAE,EAAE,OADmD;IAEvDC,OAAO,EAAE,QAF8C;IAGvDC,QAAQ,EAAE,QAH6C;IAIvDC,OAAO,EAAE,IAJ8C;IAKvDC,QAAQ,EAAE,QAL6C;IAMvDC,MAAM,EAAE,MAN+C;IAOvDC,EAAE,EAAE,IAPmD;IAQvDC,WAAW,EAAE,SAR0C;IASvDC,QAAQ,EAAE,UAT6C;IAUvDC,MAAM,EAAE,OAV+C;IAWvDC,aAAa,EAAE,MAXwC;IAYvDC,GAAG,EAAE,KAZkD;IAavDC,WAAW,EAAE,OAb0C;IAcvDC,aAAa,EAAE;EAdwC,CAA3C,CAAd;EAiBA,MAAM;IAAEC,QAAF;IAAYD,aAAZ;IAA2BE,MAA3B;IAAmCC,QAAnC;IAA6CC,EAA7C;IAAiD,GAAGC;EAApD,IAA6DpB,KAAnE;EACA,MAAM,CAACqB,QAAD,EAAWC,WAAX,IAA0B,IAAAC,cAAA,EAASN,MAAM,IAAIF,aAAnB,CAAhC;EACA,IAAIS,MAAM,GAAG,IAAb;EACA,IAAIC,IAAI,GAAG,IAAX;EAEA,IAAAC,eAAA,EAAU,MAAM;IACd,IAAI,YAAY1B,KAAhB,EAAuB;MACrBsB,WAAW,CAACtB,KAAK,CAACiB,MAAN,IAAgB,KAAjB,CAAX;IACD;EACF,CAJD,EAIG,CAACjB,KAAD,CAJH;;EAMA,MAAM2B,WAAW,GAAIC,QAAD,IAAuB;IACzCN,WAAW,CAACM,QAAD,CAAX;;IAEA,IAAI,IAAAC,qBAAA,EAAWX,QAAX,CAAJ,EAA0B;MACxBA,QAAQ,CAACC,EAAD,CAAR;IACD;EACF,CAND;;EAQAW,KAAK,CAACC,QAAN,CAAeC,OAAf,CAAuBhB,QAAvB,EAAkCiB,KAAD,IAAW;IAC1C;IACA,IAAIA,KAAK,CAACC,IAAN,KAAeC,8BAAnB,EAAmC;MACjCX,MAAM,GAAGS,KAAT,CADiC,CAEjC;IACD,CAHD,MAGO,IAAIA,KAAK,CAACC,IAAN,KAAeE,0BAAnB,EAAiC;MACtCX,IAAI,GAAGQ,KAAP;IACD;EACF,CARD;;EAUA,IAAIT,MAAM,KAAK,IAAf,EAAqB;IACnB,MAAMa,KAAK,CACT,qHADS,CAAX;EAGD;;EAEDb,MAAM,gBAAGM,KAAK,CAACQ,YAAN,CAAmBd,MAAnB,EAA2B;IAClCP,MAAM,EAAEI,QAD0B;IAGlCkB,OAAO,EAAE,MAAM;MACbZ,WAAW,CAAC,CAACN,QAAF,CAAX;IACD;EALiC,CAA3B,CAAT;EAQA,oBACE,oBAAC,QAAD,EAASD,IAAT,EACGI,MADH,EAEG,CAAC,CAACC,IAAF,iBAAUK,KAAK,CAACQ,YAAN,CAAmBb,IAAnB,EAAyB;IAAEe,QAAQ,EAAE,CAACnB;EAAb,CAAzB,CAFb,CADF;AAMD,CAnED,C,CAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEAvB,QAAQ,CAAC2C,IAAT,GAAgBL,0BAAhB;AACAtC,QAAQ,CAAC4C,MAAT,GAAkBP,8BAAlB;AACArC,QAAQ,CAAC6C,KAAT,GAAiBC,oBAAjB"}