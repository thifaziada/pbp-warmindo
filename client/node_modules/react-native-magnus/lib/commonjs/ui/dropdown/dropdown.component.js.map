{"version":3,"names":["Dropdown","React","forwardRef","incomingProps","ref","props","useDefaultProps","bg","rounded","showSwipeIndicator","Platform","OS","backdropColor","backdropOpacity","flexWrap","backdropTransitionOutTiming","overflow","py","m","mt","mr","mb","ml","ms","p","pr","pt","pb","pl","roundedTop","roundedRight","roundedBottom","roundedLeft","borderColor","borderBottomColor","borderLeftColor","borderTopColor","borderRightColor","borderWidth","style","borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopWidth","borderEndWidth","title","children","flexDir","isVisible","onBackdropPress","swipeDirection","onSwipeComplete","rest","theme","useTheme","computedStyle","getStyle","visible","setVisible","useState","useEffect","useImperativeHandle","open","close","renderTitle","renderIndicator","indicator","params","getThemeColor","colors","margin","justifyContent","wrapper","container","options","Children","map","child","cloneElement","onSelect","Option","DropdownOption"],"sources":["dropdown.component.tsx"],"sourcesContent":["import * as React from 'react';\nimport Modal from 'react-native-modal';\nimport { SafeAreaView, Platform, View } from 'react-native';\nimport { useState, useImperativeHandle, useEffect } from 'react';\n\nimport { Div } from '../div/div.component';\nimport { getStyle } from './dropdown.style';\nimport { Text } from '../text/text.component';\nimport { DropdownOption } from './dropdown.option.component';\nimport { useTheme } from '../../theme';\nimport {\n  DropdownProps,\n  DropdownRef,\n  CompoundedDropdown,\n} from './dropdown.type';\nimport { useDefaultProps } from '../../utilities/useDefaultProps';\nimport { getThemeColor } from '../../theme/theme.service';\n\nconst Dropdown = React.forwardRef<DropdownRef, DropdownProps>(\n  (incomingProps, ref) => {\n    const props = useDefaultProps('Dropdown', incomingProps, {\n      bg: 'white',\n      rounded: 'none',\n      showSwipeIndicator: Platform.OS === 'web' ? false : true,\n      backdropColor: 'gray900',\n      backdropOpacity: 0.5,\n      flexWrap: 'nowrap',\n      backdropTransitionOutTiming: 0,\n      overflow: 'hidden',\n      py: 'xl',\n    });\n\n    const {\n      bg,\n      m,\n      mt,\n      mr,\n      mb,\n      ml,\n      ms,\n      p,\n      pr,\n      pt,\n      pb,\n      pl,\n      rounded,\n      roundedTop,\n      roundedRight,\n      roundedBottom,\n      roundedLeft,\n      borderColor,\n      borderBottomColor,\n      borderLeftColor,\n      borderTopColor,\n      borderRightColor,\n      borderWidth,\n      style,\n      borderLeftWidth,\n      borderRightWidth,\n      borderBottomWidth,\n      borderTopWidth,\n      borderEndWidth,\n      title,\n      showSwipeIndicator,\n      children,\n      backdropColor,\n      flexDir,\n      flexWrap,\n      isVisible,\n      onBackdropPress,\n      swipeDirection,\n      onSwipeComplete,\n      ...rest\n    } = props;\n    const { theme } = useTheme();\n    const computedStyle = getStyle(theme, props as DropdownProps);\n    const [visible, setVisible] = useState(props.isVisible ?? false);\n\n    useEffect(() => {\n      if ('isVisible' in props) {\n        setVisible(props.isVisible ?? false);\n      }\n    }, [props, visible]);\n\n    /**\n     * exposing functions through ref\n     */\n    useImperativeHandle(ref, () => ({\n      open() {\n        setVisible(true);\n      },\n      close() {\n        setVisible(false);\n      },\n    }));\n\n    /**\n     * render title\n     */\n    const renderTitle = () => {\n      if (title) {\n        return typeof title === 'string' ? (\n          <Text fontSize=\"md\" color=\"gray700\">\n            {title}\n          </Text>\n        ) : (\n          title\n        );\n      }\n\n      return false;\n    };\n\n    /**\n     * render scroll indicator\n     */\n    const renderIndicator = () => {\n      return (\n        showSwipeIndicator && (\n          <Div\n            h={7}\n            rounded=\"xl\"\n            w={40}\n            bg=\"gray200\"\n            style={computedStyle.indicator}\n          />\n        )\n      );\n    };\n\n    return (\n      <Modal\n        isVisible={visible}\n        onSwipeComplete={(params) => {\n          setVisible(false);\n          onSwipeComplete && onSwipeComplete(params);\n        }}\n        backdropColor={getThemeColor(theme.colors, backdropColor)}\n        onBackdropPress={\n          'onBackdropPress' in props ? onBackdropPress : () => setVisible(false)\n        }\n        style={{\n          margin: 0,\n          justifyContent: Platform.OS === 'web' ? 'center' : 'flex-end',\n        }}\n        swipeDirection=\"down\"\n        {...rest}\n      >\n        <View style={computedStyle.wrapper}>\n          {renderIndicator()}\n          <SafeAreaView>\n            <View style={computedStyle.container}>\n              {renderTitle()}\n              <View style={computedStyle.options}>\n                {React.Children.map(children, (child: React.ReactElement) => {\n                  return React.cloneElement(child, {\n                    onSelect: () => {\n                      setVisible(false);\n                    },\n                  });\n                })}\n              </View>\n            </View>\n          </SafeAreaView>\n        </View>\n      </Modal>\n    );\n  }\n) as CompoundedDropdown;\n\nDropdown.Option = DropdownOption;\n\n// Dropdown.defaultProps = {\n//   bg: 'white',\n//   rounded: 'none',\n//   showSwipeIndicator: Platform.OS === 'web' ? false : true,\n//   backdropColor: 'gray900',\n//   backdropOpacity: 0.5,\n//   flexWrap: 'nowrap',\n//   backdropTransitionOutTiming: 0,\n//   overflow: 'hidden',\n// };\n\nexport { Dropdown };\n"],"mappings":"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"}